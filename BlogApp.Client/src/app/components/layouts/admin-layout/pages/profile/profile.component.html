<div class="container mx-auto p-4">
  
  <h1 class="text-3xl font-bold text-gray-800 mb-6">Profilim</h1>

  <div class="max-w-2xl mx-auto">
    
    <!-- Ana Profil Bilgileri Kartı -->
    <div class="bg-white shadow-md rounded-lg overflow-hidden">
      
      <!-- Yükleniyor Göstergesi -->
      <div *ngIf="isLoading" class="p-6 text-center">
        <i class="fas fa-spinner fa-spin text-3xl text-blue-500"></i>
        <p class="mt-2 text-gray-600">Profil Yükleniyor...</p>
      </div>

      <!-- Profil Formu -->
      <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" *ngIf="!isLoading">
        
        <div class="p-6 space-y-4">
          
          <!-- Hata ve Başarı Mesajları -->
          <div *ngIf="error" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg" role="alert">
            {{ error }}
          </div>
          <div *ngIf="success" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg" role="alert">
            {{ success }}
          </div>

          <!-- Ad ve Soyad (Yanyana) -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Ad -->
            <div>
              <label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">Ad</label>
              <input id="firstName" type="text" formControlName="firstName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" [class.border-red-500]="f['firstName'].invalid && f['firstName'].touched">
              <div *ngIf="f['firstName'].invalid && f['firstName'].touched" class="mt-1 text-sm text-red-600">
                Ad zorunludur.
              </div>
            </div>
            <!-- Soyad -->
            <div>
              <label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Soyad</label>
              <input id="lastName" type="text" formControlName="lastName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" [class.border-red-500]="f['lastName'].invalid && f['lastName'].touched">
              <div *ngIf="f['lastName'].invalid && f['lastName'].touched" class="mt-1 text-sm text-red-600">
                Soyad zorunludur.
              </div>
            </div>
          </div>
          
          <!-- E-posta -->
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">E-posta</label>
            <input id="email" type="email" formControlName="email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" [class.border-red-500]="f['email'].invalid && f['email'].touched">
            <div *ngIf="f['email'].invalid && f['email'].touched" class="mt-1 text-sm text-red-600">
              Geçerli bir e-posta adresi zorunludur.
            </div>
          </div>

        </div>

        <!-- Form Footer (Kaydet Butonu) -->
        <div class="flex justify-end items-center border-t p-4 bg-gray-50">
          <button 
            type="submit" 
            [disabled]="profileForm.invalid || isLoading"
            class="bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
            Değişiklikleri Kaydet
          </button>
        </div>

      </form>
    </div>

    <!-- Şifre Değiştirme Kartı -->
    <div class="bg-white shadow-md rounded-lg mt-8 p-6">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div>
          <h2 class="text-xl font-semibold text-gray-800">Güvenlik</h2>
          <p class="text-gray-600 mt-1">Şifrenizi buradan güncelleyebilirsiniz.</p>
        </div>
        <!-- app.routes.ts dosyasındaki rotaya yönlendirir -->
        <a 
          routerLink="/admin/profile/change-password" 
          class="bg-gray-700 text-white px-5 py-2 rounded-lg shadow-md hover:bg-gray-800 transition-colors mt-4 md:mt-0">
          Şifre Değiştir
        </a>
      </div>
    </div>

  </div>
</div>