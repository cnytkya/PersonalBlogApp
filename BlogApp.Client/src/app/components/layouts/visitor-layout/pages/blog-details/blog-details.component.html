<div class="min-h-screen bg-gray-50 py-12">
  
  <!-- Yükleniyor -->
  @if (isLoading()) {
    <div class="flex flex-col items-center justify-center h-64">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"></div>
      <p class="text-gray-600">Makale yükleniyor...</p>
    </div>
  }

  <!-- Hata -->
  @if (error()) {
    <div class="container mx-auto px-4">
      <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg text-center max-w-2xl mx-auto">
        <h3 class="text-lg font-bold text-red-700 mb-2">Ops! Bir şeyler ters gitti.</h3>
        <p class="text-red-600">{{ error() }}</p>
        <a routerLink="/" class="mt-4 inline-block text-blue-600 hover:underline">Anasayfaya Dön</a>
      </div>
    </div>
  }

  <!-- İçerik -->
  @if (blog(); as blogPost) {
    <article class="container mx-auto px-4 max-w-4xl">
      
      <!-- 1. Header (Kapak Resmi ve Başlık) -->
      <header class="bg-white rounded-2xl shadow-sm overflow-hidden mb-8">
        <!-- Kapak Resmi -->
        <div class="relative h-64 md:h-96 w-full">
          <img 
            [src]="blogPost.imgUrl || 'https://placehold.co/1200x600/E0E7FF/333?text=Kapak+Resmi'" 
            [alt]="blogPost.title"
            class="w-full h-full object-cover"
            onError="this.src='https://placehold.co/1200x600/E0E7FF/333?text=Resim+Yok'"
          >
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
          
          <!-- Resim Üzerindeki Bilgiler -->
          <div class="absolute bottom-0 left-0 w-full p-6 md:p-10 text-white">
            <span class="px-3 py-1 bg-blue-600 text-xs font-bold uppercase tracking-wider rounded-full mb-3 inline-block">
              {{ blogPost.categoryName || 'Genel' }}
            </span>
            <h1 class="text-3xl md:text-5xl font-bold leading-tight shadow-sm">
              {{ blogPost.title }}
            </h1>
          </div>
        </div>
      </header>

      <!-- 2. Makale İçeriği -->
      <div class="bg-white rounded-2xl shadow-sm p-6 md:p-12">
        
        <!-- Yazar ve Tarih Bilgisi (Opsiyonel / Statik Örnek) -->
        <div class="flex items-center space-x-4 mb-8 border-b border-gray-100 pb-8">
          <div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-500">
            <i class="fas fa-user"></i>
          </div>
          <div>
            <p class="text-gray-900 font-semibold">Admin</p>
            <p class="text-gray-500 text-sm">Yazar</p>
          </div>
        </div>

        <!-- 
          ASIL İÇERİK
          [innerHTML] kullanarak API'den gelen HTML'i basıyoruz.
          'prose' sınıfı (Tailwind Typography) metni otomatik olarak güzelleştirir.
        -->
        <div class="prose prose-lg prose-blue max-w-none text-gray-700 leading-relaxed" 
             [innerHTML]="safeContent()">
        </div>

      </div>

      <!-- 3. Geri Dön Butonu -->
      <div class="mt-8 text-center">
        <a routerLink="/" class="inline-flex items-center text-gray-600 hover:text-blue-600 font-medium transition-colors">
          <i class="fas fa-arrow-left mr-2"></i>
          Diğer yazılara göz at
        </a>
      </div>

    </article>
  }
</div>