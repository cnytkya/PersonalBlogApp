<section class="relative w-full h-[500px] md:h-[600px] bg-gradient-to-br from-blue-50 to-amber-50 overflow-hidden rounded-xl shadow-xl">
  <!-- Yükleniyor Göstergesi -->
  @if (isLoading()) {
    <div class="absolute inset-0 flex items-center justify-center z-30 bg-white/80 backdrop-blur-sm">
      <div class="text-center">
        <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mb-4"></div>
        <p class="text-gray-700 font-medium">Bloglar yükleniyor...</p>
      </div>
    </div>
  }
  
  <!-- Hata Göstergesi -->
  @if (error()) {
    <div class="absolute inset-0 flex items-center justify-center p-4 z-30">
      <div class="bg-red-50 border-l-4 border-red-500 p-6 rounded-lg shadow-lg max-w-md text-center">
        <div class="flex justify-center mb-3">
          <i class="fas fa-exclamation-triangle text-red-500 text-2xl"></i>
        </div>
        <h3 class="text-lg font-bold text-red-800 mb-2">Bir hata oluştu</h3>
        <p class="text-red-700">{{ error() }}</p>
        <button 
          (click)="loadRecentBlogs()"
          class="mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors"
        >
          Tekrar Dene
        </button>
      </div>
    </div>
  }

  <!-- Slider Container -->
  @if (!isLoading() && !error() && recentBlogs().length > 0) {
    <div 
      class="flex h-full transition-transform duration-700 ease-out swipe-transition"
      [style.transform]="'translateX(-' + (currentSlide() * 100) + '%)'"
    >
      <!-- Her bir Slayt (Blog) -->
      @for (blog of recentBlogs(); track blog.id; let i = $index) {
        <div class="w-full h-full flex-shrink-0 relative group">
          <!-- Resim ve Overlay -->
          <div 
            class="absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-1000 group-hover:scale-105"
            [style.background-image]="'url(' + (blog.imgUrl ? blog.imgUrl : 'https://placehold.co/1920x1080/E0E7FF/333?text=Resim+Yok') + ')'"
          >
            <!-- Gradient Overlay -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"></div>
            
            <!-- Desen Overlay -->
            <div class="absolute inset-0 opacity-10 bg-repeat" 
                 style="background-image: url('data:image/svg+xml,%3Csvg width=\'40\' height=\'40\' viewBox=\'0 0 40 40\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'%23ffffff\' fill-opacity=\'1\' fill-rule=\'evenodd\'%3E%3Cpath d=\'M0 40L40 0H20L0 20M40 40V20L20 40\'/%3E%3C/g%3E%3C/svg%3E')">
            </div>
          </div>

          <!-- Slayt İçeriği -->
          <div class="container mx-auto px-4 h-full flex flex-col justify-end pb-12 md:pb-16 relative z-10">
            <div class="max-w-3xl transform transition-all duration-700 delay-300 slide-content" 
                 [class]="i === currentSlide() ? 'translate-y-0 opacity-100' : 'translate-y-10 opacity-0'">
              
              <!-- Kategori Etiketi -->
              <div class="inline-flex items-center mb-4">
                <span class="px-3 py-1 bg-gradient-to-r text-white text-sm font-semibold rounded-full shadow-md"
                      [class]="getCategoryColor(blog.categoryName || 'default')">
                  {{ blog.categoryName || 'Genel' }}
                </span>
                <span class="ml-3 text-amber-300 text-sm flex items-center">
                  <i class="far fa-clock mr-1"></i>
                  <span>Son Eklenen</span>
                </span>
              </div>
              
              <!-- Başlık -->
              <h1 class="text-3xl md:text-5xl lg:text-6xl font-bold text-white mb-4 leading-tight tracking-tight">
                {{ blog.title }}
              </h1>
              
              <!-- Açıklama -->
              <!-- <p class="text-lg text-gray-200 mb-8 max-w-2xl line-clamp-2">
                {{ generateSummary(blog.content || blog.summary || '') }}
              </p> -->
              
              <!-- CTA Butonları -->
              <div class="flex flex-col sm:flex-row gap-4">
                <a 
                  [routerLink]="['/blogs', blog.id]" 
                  class="inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-white to-gray-100 text-gray-900 font-bold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 group/btn"
                >
                  <span>Devamını Oku</span>
                  <i class="fas fa-arrow-right ml-2 group-hover/btn:translate-x-1 transition-transform"></i>
                </a>
                
                <button 
                  class="inline-flex items-center justify-center px-6 py-3 bg-transparent border-2 border-white/50 text-white font-medium rounded-lg hover:bg-white/10 transition-all duration-300"
                >
                  <i class="far fa-bookmark mr-2"></i>
                  <span>Kaydet</span>
                </button>
              </div>
            </div>
          </div>
          
          <!-- Slayt Numarası -->
          <div class="absolute bottom-6 right-6 z-10">
            <div class="text-white text-sm font-medium bg-black/30 backdrop-blur-sm px-3 py-1 rounded-full">
              <span>{{ i + 1 }}</span>
              <span class="mx-1">/</span>
              <span>{{ totalSlides() }}</span>
            </div>
          </div>

          <!-- Progress Bar -->
          @if (i === currentSlide() && isAutoPlaying()) {
            <div class="absolute bottom-0 left-0 right-0 h-1 bg-black/20">
              <div class="h-full bg-amber-400 transition-all duration-100 linear" 
                   [style.width.%]="getSlideProgress()">
              </div>
            </div>
          }
        </div>
      }
    </div>
  }

  <!-- Navigasyon Butonları -->
  @if (!isLoading() && recentBlogs().length > 1) {
    <button 
      (click)="prevSlide()"
      class="absolute top-1/2 left-4 transform -translate-y-1/2 z-20 bg-black/20 hover:bg-black/40 backdrop-blur-sm text-white p-4 rounded-full transition-all duration-300 hover:scale-110 shadow-lg"
      aria-label="Önceki slayt"
    >
      <i class="fas fa-chevron-left"></i>
    </button>
    
    <button 
      (click)="nextSlide()"
      class="absolute top-1/2 right-4 transform -translate-y-1/2 z-20 bg-black/20 hover:bg-black/40 backdrop-blur-sm text-white p-4 rounded-full transition-all duration-300 hover:scale-110 shadow-lg"
      aria-label="Sonraki slayt"
    >
      <i class="fas fa-chevron-right"></i>
    </button>
  }

  <!-- Navigasyon Noktaları -->
  @if (!isLoading() && recentBlogs().length > 1) {
    <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 z-20 flex space-x-3">
      @for (blog of recentBlogs(); track blog.id; let i = $index) {
        <button 
          (click)="goToSlide(i)"
          class="flex flex-col items-center transition-all duration-300"
          [attr.aria-label]="i + 1 + '. slayta git'"
        >
          <div 
            class="w-3 h-3 rounded-full transition-all duration-300 mb-1"
            [ngClass]="i === currentSlide() ? 'bg-white scale-125' : 'bg-white/50 hover:bg-white/80'"
          ></div>
          <span 
            class="text-xs font-medium transition-all duration-300"
            [ngClass]="i === currentSlide() ? 'text-white' : 'text-white/60'"
          >
            {{ i + 1 }}
          </span>
        </button>
      }
    </div>
  }
  
  <!-- Otomatik Oynatma Kontrolü -->
  @if (!isLoading() && recentBlogs().length > 1) {
    <div class="absolute bottom-4 right-4 z-20">
      <button 
        (click)="toggleAutoPlay()"
        class="w-12 h-12 rounded-full bg-black/20 backdrop-blur-sm flex items-center justify-center text-white cursor-pointer hover:bg-black/30 transition-colors"
        [attr.aria-label]="isAutoPlaying() ? 'Otomatik oynatmayı durdur' : 'Otomatik oynatmayı başlat'"
      >
        @if (isAutoPlaying()) {
          <i class="fas fa-pause"></i>
        } @else {
          <i class="fas fa-play"></i>
        }
      </button>
    </div>
  }

  <!-- Boş Durum -->
  @if (!isLoading() && !error() && recentBlogs().length === 0) {
    <div class="absolute inset-0 flex items-center justify-center">
      <div class="text-center text-gray-500">
        <i class="fas fa-newspaper text-6xl mb-4 opacity-50"></i>
        <h3 class="text-xl font-semibold mb-2">Henüz blog yazısı yok</h3>
        <p class="max-w-md">Yakında yeni blog yazıları eklenecek. Lütfen daha sonra tekrar kontrol edin.</p>
      </div>
    </div>
  }
</section>